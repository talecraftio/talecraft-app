fragment resource on ResourceType {
  tokenId
  name
  tier
  ipfsHash
  weight
  sales {
    datetime
    amount
    price
  }
}

fragment treeChartData on ChartNodeType {
  name
  id
  parentId
  attributes {
    ipfs
    weight
    tier
    tokenId
  }
}

fragment resourceListItem on ResourceListType {
    name
    value
    tier
    ipfs
}

query getListings($tiers: [String], $weights: [String], $q: String, $seller: String, $order: String, $page: Int) {
  listings(tiers: $tiers, weights: $weights, q: $q, seller: $seller, order: $order, page: $page) {
    totalItems
    items {
      listingId
      resource {
        ...resource
      }
      amount
      price
      seller
      buyer
      closed
    }
  }
}

fragment marketplaceStats on MarketplaceStatsType {
  minElementPrice
}

query getMarketplaceStats {
  marketplaceStats {
    ...marketplaceStats
  }
}

query getResource($tokenId: ID!) {
  resource(tokenId: $tokenId) {
    ...resource
  }
}

query getRecipeTree($tokenId: ID!) {
  treeChart(tokenId: $tokenId) {
    ...treeChartData
  }
}

query getResourceList {
  resourceList {
    ...resourceListItem
  }
}
