fragment resource on ResourceType {
  tokenId
  name
  tier
  ipfsHash
  weight
  sales {
    datetime
    amount
    price
  }
  currentSales {
    datetime
    amount
    price
  }
}

fragment leaderboardItem on LeaderboardItemType {
  address
  weight
  maxTier
  tier0
  tier1
  tier2
  tier3
  tier4
  tier5
}

query getListings($tiers: [String], $weights: [String], $q: String, $seller: String, $order: String, $page: Int) {
  listings(tiers: $tiers, weights: $weights, q: $q, seller: $seller, order: $order, page: $page) {
    totalItems
    items {
      listingId
      resource {
        ...resource
      }
      amount
      price
      seller
      buyer
      closed
    }
  }
}

fragment marketplaceStats on MarketplaceStatsType {
  minElementPrice
}

query getMarketplaceStats {
  marketplaceStats {
    ...marketplaceStats
  }
}

query getResource($tokenId: ID!) {
  resource(tokenId: $tokenId) {
    ...resource
  }
}

query leaderboard {
  leaderboard {
    ...leaderboardItem
  }
}

query chatToken($chatId: String!, $sig: String!) {
  chatToken(chatId: $chatId, sig: $sig)
}
